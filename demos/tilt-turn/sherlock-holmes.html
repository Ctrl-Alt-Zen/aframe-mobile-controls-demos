<!DOCTYPE html>
<head>
    <title>3dio | Sherlock Holmes' Apartment</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
    <script src="https://dist.3d.io/3dio-js/1.1.x/3dio.min.js"></script>
    <script src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>
    <script src="https://fasility.com/components/twoway-motion/twoway-motion.js"></script>
    <script src="https://fasility.com/components/tilt-turn/tilt-turn.js"></script>
<!--
    <script src="https://fasility.com/components/pinch-zoom/pinch-zoom.js"></script>
-->

    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="black">

</head>

<body>
    <script>

        AFRAME.registerComponent('startup', {
            init: function () {
                startup();
            }
        });

        startup = function () {
            console.log('A-Frame is ready.');
        }

    </script>

    <a-scene startup antialias="true">

        <a-entity id="environment" position="0 -.714 0" environment="fog: 10; groundTexture: walkernoise; groundColor: #2d4519; groundColor2: #435d31;"></a-entity>

        <a-plane id="floor" rotation="-90 0 0" position="0 -.46 0" opacity="0.2" width="100" height="100" src="checker.png" material="src: url(checker.png); repeat: 100 100"></a-plane>
<!--

https://storage.3d.io/68c13f5a-143f-4180-89a4-5d4a08020ac4/170324-1508-0i7fsa/f4492e85-276e-419f-9c1e-15a8ac7f3d80.gz.data3d.buffer

https://storage.3d.io/535e624259ee6b0200000484/170419-1828-rvbgsd/archilogic_2017-04-19_18-28-30_TI6gec.gz.data3d.buffer

https://storage.3d.io/535e624259ee6b0200000484/170420-1203-oubf9h/d0458498-0ba0-43ae-aa8c-cacca86e95a7.gz.data3d.buffer

https://storage.3d.io/535e624259ee6b0200000484/170420-1206-2nb06i/135c7b5f-4a2e-4a80-b655-0bdbb9eb9ed6.gz.data3d.buffer


-->
        <a-entity position="2.097 0 -3.503" id="sherlock-all">
            
            <a-entity id="buffer1" io3d-data3d="key:/68c13f5a-143f-4180-89a4-5d4a08020ac4/170324-1508-0i7fsa/f4492e85-276e-419f-9c1e-15a8ac7f3d80.gz.data3d.buffer" shadow="receive: true"></a-entity>

            
<!--
            <a-entity id="buffer2" io3d-data3d="key:/535e624259ee6b0200000484/170419-1828-rvbgsd/archilogic_2017-04-19_18-28-30_TI6gec.gz.data3d.buffer" shadow="receive: true"></a-entity>

            <a-entity id="buffer3" io3d-data3d="key:/535e624259ee6b0200000484/170420-1203-oubf9h/d0458498-0ba0-43ae-aa8c-cacca86e95a7.gz.data3d.buffer" shadow="receive: true"></a-entity>

            <a-entity id="buffer4" io3d-data3d="key:/535e624259ee6b0200000484/170420-1206-2nb06i/135c7b5f-4a2e-4a80-b655-0bdbb9eb9ed6.gz.data3d.buffer" shadow="receive: true"></a-entity>
-->
        </a-entity>


        <a-entity id="cam" camera twoway-motion="nonMobileLoad: true; speed: 18" tilt-turn pinch-zoom position="0 1.6 0">
            <a-cursor scale="2 2 2" color="white" opacity="0.3">
            </a-cursor>
            <a-entity id="flashlight" position="0 -1 0" rotation="15 0 0" light="type:spot;
            castShadow:true;
            angle: 30; 
            intensity: 1.8;
            color: #fffb74;
            decay: 1;
            distance: 10;"></a-entity>
        </a-entity>

        <!--
        <a-box id="upbox" onclick="clickUp()" color="red" position="24.022 1.075 -0.056"></a-box>
        <a-box id="downbox" onclick="clickDown()" color="blue" position="24.119 0.151 0"></a-box>
-->

        <a-entity position="0 50 0" light="groundColor:#2d4519;intensity:0.572;type:hemisphere;color:#CEE4F0"></a-entity>
        <a-entity position="-0.11 1 0.33" light="shadowCameraLeft:-10;shadowCameraBottom:-10;shadowCameraRight:10;shadowCameraTop:10;intensity:0.2722448147213711"></a-entity>

    </a-scene>

    <script>

        clickUp = function () {
            var rig = $('rig');
            var pos = rig.getAttribute("position");
            rig.sa('position', {
                x: pos.x,
                y: 3.8,
                z: pos.z
            });
        }

        clickDown = function () {
            var rig = $('rig');
            var pos = rig.getAttribute("position");
            rig.sa('position', {
                x: pos.x,
                y: 0,
                z: pos.z
            });
        }

    </script>

</body>